(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,a,t){e.exports=t(347)},186:function(e,a,t){},224:function(e,a,t){},325:function(e,a,t){},347:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),o=t(59),r=t.n(o),c=t(392),l=t(16),d=(t(186),t(15)),u=t.n(d),p=t(40),s=t.n(p),y=t(390),b=t(11),m=t.n(b),f="@@AWX",g="".concat(f,"/UI"),E="".concat(f,"/ERROR"),v="".concat(f,"/LOADING"),h="".concat(f,"/NOOP"),S="".concat(f,"/MULTI"),O="".concat(f,"/GO"),j="".concat(f,"/ENTITY"),T="".concat(f,"/ROUTE_UPDATE"),D="".concat(f,"/JOBS_LAUNCH_REQUEST"),x="".concat(f,"/JOBS_LAUNCH_SUCCESS"),k="".concat(f,"/JOBS_LAUNCH_FAILURE"),C="".concat(f,"/JOBS_SHOW_REQUEST"),P="".concat(f,"/JOBS_SHOW_SUCCESS"),w="".concat(f,"/JOBS_SHOW_FAILURE"),I="".concat(f,"/JOBS_STDOUT_REQUEST"),U="".concat(f,"/JOBS_STDOUT_SUCCESS"),R="".concat(f,"/JOBS_STDOUT_FAILURE"),L="".concat(f,"/JOBS_STDOUT_TRACK"),_="".concat(f,"/JOBS_STDOUT_SUBSCRIBE"),A="".concat(f,"/JOBS_STDOUT_UNSUBSCRIBE"),N="".concat(f,"/LABS_INDEX_REQUEST"),B="".concat(f,"/LABS_INDEX_SUCCESS"),F="".concat(f,"/LABS_INDEX_FAILURE"),H="".concat(f,"/LABS_CREATE_REQUEST"),W="".concat(f,"/LABS_CREATE_SUCCESS"),K="".concat(f,"/LABS_CREATE_FAILURE"),q="".concat(f,"/LABS_DELETE_REQUEST"),z="".concat(f,"/LABS_DELETE_SUCCESS"),J="".concat(f,"/LABS_DELETE_FAILURE"),G="".concat(f,"/LABS_UPDATE_REQUEST"),Q="".concat(f,"/LABS_UPDATE_SUCCESS"),M="".concat(f,"/LABS_UPDATE_FAILURE"),X="".concat(f,"/LABS_SHOW_REQUEST"),V="".concat(f,"/LABS_SHOW_SUCCESS"),Y="".concat(f,"/LABS_SHOW_FAILURE"),$="".concat(f,"/PARTICIPANTS_INDEX_REQUEST"),Z="".concat(f,"/PARTICIPANTS_INDEX_SUCCESS"),ee="".concat(f,"/PARTICIPANTS_INDEX_FAILURE"),ae="".concat(f,"/PARTICIPANTS_CREATE_REQUEST"),te="".concat(f,"/PARTICIPANTS_CREATE_SUCCESS"),ne="".concat(f,"/PARTICIPANTS_CREATE_FAILURE"),ie="".concat(f,"/PARTICIPANTS_DELETE_REQUEST"),oe="".concat(f,"/PARTICIPANTS_DELETE_SUCCESS"),re="".concat(f,"/PARTICIPANTS_DELETE_FAILURE"),ce="".concat(f,"/PARTICIPANTS_UPDATE_REQUEST"),le="".concat(f,"/PARTICIPANTS_UPDATE_SUCCESS"),de="".concat(f,"/PARTICIPANTS_UPDATE_FAILURE"),ue="".concat(f,"/PARTICIPANTS_SHOW_REQUEST"),pe="".concat(f,"/PARTICIPANTS_SHOW_SUCCESS"),se="".concat(f,"/PARTICIPANTS_SHOW_FAILURE"),ye="".concat(f,"/GET_REQUEST"),be="".concat(f,"/POST_REQUEST"),me="".concat(f,"/PUT_REQUEST"),fe="".concat(f,"/DELETE_REQUEST"),ge="".concat(f,"/RUN"),Ee="".concat(f,"/REFRESH_TOKENS"),ve="".concat(f,"/LOGIN"),he="".concat(f,"/LOGOUT"),Se=t(64),Oe=t(65),je=t(109),Te=t(94),De=t(111),xe=(t(224),t(348)),ke=t(366),Ce=t(360),Pe=function(e){e.onLogout;var a=e.title;return i.a.createElement(xe.a,{display:"flex",padding:16,background:"tint2",borderRadius:3},i.a.createElement(xe.a,{flex:3,alignItems:"center",display:"flex"},i.a.createElement(Ce.a,{size:600},"Conalabs"),"\xa0",i.a.createElement(Ce.a,{size:600},"/"),"\xa0",i.a.createElement(Ce.a,{size:600,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},a)),i.a.createElement(xe.a,{flex:2,display:"flex",alignItems:"center",justifyContent:"flex-end"}))};var we=u()(Object(l.b)(function(e){return{title:m()(e,"ui.title")}},{onLogout:function(){return{type:he}}}))(Pe),Ie=t(393),Ue=t(373),Re=t(19),Le=t(25),_e=t(22),Ae=t.n(_e),Ne=new Le.b.Entity("labs"),Be=new Le.b.Array(Ne),Fe=new Le.b.Entity("participants"),He=new Le.b.Array(Fe),We=new Le.b.Entity("jobs"),Ke=new Le.b.Array(We),qe=t(66),ze=t.n(qe),Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ids:[],error:void 0},a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case W:case B:case V:return Object(Re.a)({},e,{ids:ze()(e.ids,n.result)});case q:return Object(Re.a)({},e,{ids:e.ids.filter(function(e){return e!==n.id})});default:return e}};function Ge(e){var a=m()(e,"ui.labs.editing");if(void 0!==a)return m()(e,"entities.labs.".concat(a),{})}var Qe=t(319),Me=t(362),Xe=t(380),Ve=t(383),Ye=t(384),$e=t(367),Ze=t(385),ea=t(361),aa=function(e){var a=e.isShown,t=e.close,n=e.onDelete;return i.a.createElement(ea.a,{isShown:a,title:"Atenci\xf3n",intent:"danger",onCloseComplete:t,onConfirm:n,onCancel:t,confirmLabel:"Si, quiero eliminar el Laboratorio"},i.a.createElement(Ce.a,null,"\xbfEsta seguro que desea eliminar este laboratorio?"))};var ta=u()(Object(l.b)(function(e){return{isShown:m()(e,"ui.labs.isLabDeleteDialogOpen",!1)}},{}))(aa);ta.displayName="enhance(LabDeleteDialog)";var na=ta,ia=function(e){var a=e.onDelete,t=e.onEdit,n=e.showLabDeleteDialog,o=e.closeLabDeleteDialog;return i.a.createElement(Ye.a,{position:$e.a.BOTTOM_LEFT,content:i.a.createElement(Ze.a,null,i.a.createElement(Ze.a.Group,null,i.a.createElement(Ze.a.Item,{onSelect:t},"Editar"),i.a.createElement(Ze.a.Divider,null),i.a.createElement(Ze.a.Item,{onSelect:n,intent:"danger"},"Eliminar",i.a.createElement(na,{onDelete:a,close:o}))))},i.a.createElement(Qe.a,{height:20},"..."))};var oa=u()(Object(l.b)(function(){return{}},{showLabDeleteDialog:function(){return{type:g,payload:{labs:{isLabDeleteDialogOpen:!0}}}},closeLabDeleteDialog:function(){return{type:g,payload:{labs:{isLabDeleteDialogOpen:!1}}}},onEdit:function(e){return{type:g,payload:{labs:{isSideSheetOpen:!0,editing:e}}}},onDelete:function(e){return{type:fe,payload:{endpoint:"/labs/".concat(e,"/"),uiKey:"labsDelete",meta:{id:e},actionTypes:[q,z,J]}}}}),Ae()({onEdit:function(e){var a=e.onEdit,t=e.id;return function(){return a(t)}},onDelete:function(e){var a=e.onDelete,t=e.id;return function(){return a(t)}}}))(ia);oa.displayName="enhance(LabRowMenu)";var ra=oa,ca=function(e){var a=e.labs;return i.a.createElement(Xe.a,{width:"100%"},i.a.createElement(Xe.a.Head,{paddingRight:15},i.a.createElement(Xe.a.TextHeaderCell,null,"Name"),i.a.createElement(Xe.a.TextHeaderCell,{flexBasis:100,flexShrink:0,flexGrow:0},"Inicio"),i.a.createElement(Xe.a.TextHeaderCell,{flexBasis:100,flexShrink:0,flexGrow:0},"Fin"),i.a.createElement(Xe.a.TextHeaderCell,null,"Run Playbook"),i.a.createElement(Xe.a.TextHeaderCell,null,"End Playbook"),i.a.createElement(Xe.a.TextHeaderCell,null,"Diagrama"),i.a.createElement(Xe.a.TextHeaderCell,{flexBasis:80,flexShrink:0,flexGrow:0,textAlign:"center"},"...")),i.a.createElement(Xe.a.VirtualBody,{height:"calc(100vh - 64px - 52px - 48px - 64px)"},a.map(function(e){return i.a.createElement(Xe.a.Row,{key:e.id,paddingRight:15},i.a.createElement(Xe.a.TextCell,null,i.a.createElement(Ve.a,{to:"/labs/".concat(e.id,"/")},e.data.name)),i.a.createElement(Xe.a.TextCell,{flexBasis:100,flexShrink:0,flexGrow:0},e.data.startDate),i.a.createElement(Xe.a.TextCell,{flexBasis:100,flexShrink:0,flexGrow:0},e.data.endDate),i.a.createElement(Xe.a.TextCell,null,e.data.runPlaybook),i.a.createElement(Xe.a.TextCell,null,e.data.endPlaybook),i.a.createElement(Xe.a.TextCell,null,e.data.diagramURL),i.a.createElement(Xe.a.Cell,{display:"flex",alignItems:"center",justifyContent:"center",flexBasis:80,flexShrink:0,flexGrow:0},i.a.createElement(ra,{id:e.id})))})))};var la=t(394),da=t(60),ua=t(163),pa=t.n(ua),sa=t(63),ya=t.n(sa),ba=function(e){return u()(pa()(function(a){var t=a.form;return{form:Object(Re.a)({},e,t),formErrors:{}}},{setForm:function(e){var a=e.form;e.formErrors;return function(e){return{form:Object(Re.a)({},a,e)}}},setFormErrors:function(){return function(e){return{formErrors:e}}}}),Ae()({formIsValid:function(e){var a=e.validate,t=e.setFormErrors,n=e.form;return function(){if(!ya()(a))return{};var e=a(n);return t(e),0===Object.keys(e).length}}}),Ae()({handleTextChange:function(e){var a=e.setForm;return function(e){return function(t){a(Object(da.a)({},e,t.target.value))}}},handleSubmit:function(e){var a=e.form,t=e.formIsValid,n=e.onSubmit;return function(e){e.preventDefault(),t()&&n(a)}}}))};var ma=t(368),fa=function(e){var a=e.handleTextChange,t=e.handleSubmit,n=e.form,o=e.loading,r=e.id;return i.a.createElement("form",{onSubmit:t},i.a.createElement(ma.a,{label:"Nombre",required:!0,type:"text",value:n.name,onChange:a("name")}),i.a.createElement(ma.a,{label:"Fecha de Inicio",type:"date",value:n.startDate,onChange:a("startDate")}),i.a.createElement(ma.a,{label:"Fecha de Finalizaci\xf3n",type:"date",value:n.endDate,onChange:a("endDate")}),i.a.createElement(ma.a,{label:"Nombre del Job para levantar el lab",type:"text",required:!0,hint:"Verifique que el nombre ingresado en este campo corresponda con un job creado en el servidor de AWS o Ansible Tower.",value:n.runPlaybook,onChange:a("runPlaybook")}),i.a.createElement(ma.a,{label:"Nombre del Job para eliminar el lab",type:"text",required:!0,hint:"Verifique que el nombre ingresado en este campo corresponda con un job creado en el servidor de AWS o Ansible Tower.",onChange:a("endPlaybook"),value:n.endPlaybook}),i.a.createElement(ma.a,{label:"Diagrama del laboratorio",type:"url",description:"URL de una imagen del diagrama del laboratorio.",onChange:a("diagramURL"),value:n.diagramURL}),i.a.createElement(Qe.a,{type:"submit",textAlign:"center",width:"100%",appearance:"primary",display:"flex",alignItems:"center",justifyContent:"center",disabled:o,intent:void 0===r?"success":"warning"},!0===o?i.a.createElement(ke.a,{size:16}):void 0===r?"Crear":"Actualizar"))};var ga=u()(Object(l.b)(function(e){var a=m()(e,"ui.labs.editing",void 0),t=m()(e,"entities.labs.".concat(a,".data"),void 0),n=m()(e,"ui.loading.labsCreate",!1),i=m()(e,"ui.loading.labsUpdate",!1);return{id:a,form:t,loading:n||i}},{}),Ae()({validate:function(){return function(e){var a=e.name,t=e.runPlaybook,n=e.endPlaybook,i={};return""!==a&&void 0!==a||(i.name="Campo requerido."),""!==t&&void 0!==t||(i.runPlaybook="Campo requerido."),""!==n&&void 0!==n||(i.endPlaybook="Campo requerido"),i}},onSubmit:function(e){var a=e.onSubmit,t=e.id;return function(e){return a(e,t)}}}),ba({name:"",startDate:"",endDate:"",runPlaybook:"",endPlaybook:"",diagramURL:""}))(fa);ga.displayName="enhanced(LabForm)";var Ea=ga,va=function(e){var a=e.isShown,t=e.close,n=e.onSubmit;return i.a.createElement(la.a,{isShown:a,onCloseComplete:t},i.a.createElement(xe.a,{padding:16},i.a.createElement(Ce.a,{size:600,marginBottom:16},"Laboratorio"),i.a.createElement(Ea,{onSubmit:n})))};var ha=function(e){function a(){return Object(Se.a)(this,a),Object(je.a)(this,Object(Te.a)(a).apply(this,arguments))}return Object(De.a)(a,e),Object(Oe.a)(a,[{key:"render",value:function(){var e=this.props,a=e.labs,t=e.index,o=e.openSideSheet,r=e.isSideSheetOpen,c=e.closeSideSheet,l=e.onSubmit,d=e.loading;return i.a.createElement(n.Fragment,null,i.a.createElement(va,{isShown:r,close:c,onSubmit:l}),i.a.createElement(xe.a,{display:"flex",justifyContent:"space-between",width:"100%"},i.a.createElement(Qe.a,{onClick:t,isLoading:d},"Actualizar"),i.a.createElement(Qe.a,{intent:"success",iconBefore:"plus",onClick:o},"Nuevo Laboratorio")),i.a.createElement(xe.a,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:16,width:"100%"},0===a.length?!0===d?i.a.createElement(ke.a,null):i.a.createElement(Me.a,null,"No se han encontrado laboratorios."):i.a.createElement(ca,{labs:a})))}}]),a}(i.a.Component),Sa=u()(Object(l.b)(function(e){return{labs:function(e){var a=m()(e,"labs.ids",[]),t=m()(e,"entities.labs",{});return a.map(function(e){return t[e]})}(e),loading:m()(e,"ui.loading.labsIndex",!1),isSideSheetOpen:m()(e,"ui.labs.isSideSheetOpen",!1)}},{editUI:function(){return{type:g,payload:{title:"Laboratorios",labs:{editing:void 0},jobs:{editing:void 0},participants:{editing:void 0}}}},index:function(){return{type:ye,payload:{endpoint:"/labs/",uiKey:"labsIndex",schema:Be,actionTypes:[N,B,F]}}},create:function(e){return{type:be,payload:{endpoint:"/labs/",body:e,uiKey:"labsCreate",schema:Be,actionTypes:[H,W,K]}}},update:function(e,a){return{type:me,payload:{endpoint:"/labs/".concat(a,"/"),body:e,uiKey:"labsUpdate",schema:Be,actionTypes:[G,Q,M],meta:Object(Re.a)({},Object(Le.a)([{id:a,data:e}],Be))}}},openSideSheet:function(){return{type:g,payload:{labs:{isSideSheetOpen:!0,editing:void 0}}}},closeSideSheet:function(){return{type:g,payload:{labs:{isSideSheetOpen:!1,editing:void 0}}}}}),Ae()({onSubmit:function(e){var a=e.create,t=e.update;return function(e,n){void 0===n?a(e):t(e,n)}}}),s()({componentWillMount:function(){this.props.index(),this.props.editUI()}}))(ha);Sa.displayName="enhance(Labs)";var Oa=Sa,ja=t(95),Ta=t.n(ja),Da=t(169),xa=t(323),ka=function(e){var a=e.label,t=e.marginBottom,n=Object(Da.a)(e,["label","marginBottom"]);return i.a.createElement(xe.a,{display:"flex",alignItems:"center",marginBottom:t},i.a.createElement(Me.a,{flex:1,marginRight:8},a),i.a.createElement(xa.a,Object.assign({},n,{flex:3})))};var Ca=function(e){var a=e.onEdit,t=e.openDeleteDialog,n=e.openPodUpDialog,o=e.openPodDownDialog;return i.a.createElement(Ye.a,{position:$e.a.BOTTOM_LEFT,content:i.a.createElement(Ze.a,null,i.a.createElement(Ze.a.Group,null,i.a.createElement(Ze.a.Item,{onSelect:n},"Levantar Pod"),i.a.createElement(Ze.a.Item,{onSelect:o},"Destruir Pod"),i.a.createElement(Ze.a.Divider,null),i.a.createElement(Ze.a.Item,{onSelect:a},"Editar"),i.a.createElement(Ze.a.Item,{onSelect:t,intent:"danger"},"Eliminar")))},i.a.createElement(Qe.a,{height:20},"..."))};var Pa=u()(Object(l.b)(function(){return{}},{openDeleteDialog:function(e){return{type:g,payload:{participants:{isDeleteDialogOpen:!0,deleting:e}}}},openPodUpDialog:function(e){return{type:g,payload:{participants:{isPodUpDialogOpen:!0,editing:e}}}},openPodDownDialog:function(e){return{type:g,payload:{participants:{isPodDownDialogOpen:!0,editing:e}}}},onEdit:function(e){return{type:g,payload:{participants:{isSideSheetOpen:!0,editing:e}}}}}),Ae()({onEdit:function(e){var a=e.onEdit,t=e.id;return function(){return a(t)}},openDeleteDialog:function(e){var a=e.openDeleteDialog,t=e.id;return function(){return a(t)}},openPodUpDialog:function(e){var a=e.openPodUpDialog,t=e.id;return function(){return a(t)}},openPodDownDialog:function(e){var a=e.openPodDownDialog,t=e.id;return function(){return a(t)}}}))(Ca);Pa.displayName="enhance(ParticipantRowMenu)";var wa=Pa,Ia=t(395),Ua=function(e){var a=e.value,t=Ra[a]||"neutral";return i.a.createElement(Ia.a,{color:t,isSolid:!0},a)},Ra={pending:"blue",successful:"green",failed:"red",up:"green"};var La=function(e){var a=e.color,t=e.value;return i.a.createElement(Ia.a,{color:a,isSolid:!0},t)};var _a=u()(Object(l.b)(function(e,a){return{color:a.value===Ge(e).data.endPlaybook?"neutral":"blue"}},{}))(La);_a.displayName="enhance(LastPlaybookBadge)";var Aa=_a,Na=function(e){var a=e.participants;return i.a.createElement(Xe.a,{width:"100%"},i.a.createElement(Xe.a.Head,{paddingRight:15},i.a.createElement(Xe.a.TextHeaderCell,null,"Nombre"),i.a.createElement(Xe.a.TextHeaderCell,null,"Email"),i.a.createElement(Xe.a.TextHeaderCell,null,"Empresa"),i.a.createElement(Xe.a.TextHeaderCell,null,"AWS Region"),i.a.createElement(Xe.a.TextHeaderCell,null,"Pod"),i.a.createElement(Xe.a.TextHeaderCell,null,"\xdaltimo Playbook"),i.a.createElement(Xe.a.TextHeaderCell,null,"Status"),i.a.createElement(Xe.a.TextHeaderCell,{flexBasis:80,flexShrink:0,flexGrow:0,textAlign:"center"},"...")),i.a.createElement(Xe.a.VirtualBody,{height:"calc(100vh - 324px - 32px)"},a.map(function(e){return i.a.createElement(Xe.a.Row,{key:e.id,paddingRight:15},i.a.createElement(Xe.a.TextCell,null,i.a.createElement(Ve.a,{to:"/participants/".concat(e.id,"/")},e.data.name)),i.a.createElement(Xe.a.TextCell,null,e.data.email),i.a.createElement(Xe.a.TextCell,null,e.data.company),i.a.createElement(Xe.a.TextCell,null,e.data.awsRegion),i.a.createElement(Xe.a.TextCell,{isNumber:!0},e.data.pod),i.a.createElement(Xe.a.TextCell,null,i.a.createElement(Aa,{value:e.data.lastPlaybook})),i.a.createElement(Xe.a.TextCell,null,e.data.status&&i.a.createElement(Ua,{value:e.data.status})),i.a.createElement(Xe.a.Cell,{display:"flex",alignItems:"center",justifyContent:"center",flexBasis:80,flexShrink:0,flexGrow:0},i.a.createElement(wa,{id:e.id})))})))};var Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ids:[],error:void 0},a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case te:case Z:case pe:return Object(Re.a)({},e,{ids:ze()(e.ids,n.result)});case ie:return Object(Re.a)({},e,{ids:e.ids.filter(function(e){return e!==n.id})});default:return e}};function Fa(e){var a=m()(e,"ui.participants.editing");if(void 0!==a)return m()(e,"entities.participants.".concat(a),{})}var Ha=u()(Object(l.b)(function(e){return{participants:function(e){var a=m()(e,"ui.labs.editing",void 0),t=m()(e,"entities.participants",{});return m()(e,"participants.ids",[]).map(function(e){return t[e]}).filter(function(e){return void 0!==e}).filter(function(e){return e.data.labId===a})}(e)}},{}))(Na);Ha.displayName="enhance(ParticipantsTable)";var Wa=Ha,Ka=t(386),qa=t(369),za=function(e){var a=e.handleTextChange,t=e.handleSubmit,n=e.form,o=e.loading,r=e.id;return i.a.createElement("form",{onSubmit:t},i.a.createElement(ma.a,{label:"Nombre",required:!0,type:"text",value:n.name,onChange:a("name")}),i.a.createElement(ma.a,{label:"Email",type:"email",required:!0,value:n.email,onChange:a("email")}),i.a.createElement(ma.a,{label:"Empresa",type:"text",value:n.company,onChange:a("company")}),i.a.createElement(Ka.a,{marginBottom:24,label:"AWS Region",isRequired:!0,hint:"Ej: us-east-1, us-east-2, us-west-1, etc.",description:"Regi\xf3n de AWS donde se ejecutara el Pod.",labelFor:"aws_region"},i.a.createElement(qa.a,{name:"aws_region",width:"100%",onChange:a("awsRegion"),value:n.awsRegion},Ja.map(function(e){return i.a.createElement("option",{key:e,value:e},e)}))),i.a.createElement(ma.a,{label:"Pod",type:"number",required:!0,min:1,max:99,onChange:a("pod"),value:n.pod}),i.a.createElement(Qe.a,{type:"submit",textAlign:"center",width:"100%",appearance:"primary",display:"flex",alignItems:"center",justifyContent:"center",disabled:o,intent:void 0===r?"success":"warning"},!0===o?i.a.createElement(ke.a,{size:16}):void 0===r?"Crear":"Actualizar"))},Ja=["us-east-1","us-east-2","us-west-1","us-west-2","ca-central-1","sa-east-1"];var Ga=u()(Object(l.b)(function(e){var a=m()(e,"ui.participants.editing",void 0),t=m()(e,"ui.labs.editing",void 0),n=m()(e,"entities.participants.".concat(a,".data"),void 0),i=m()(e,"ui.loading.participantsCreate",!1),o=m()(e,"ui.loading.participantsUpdate",!1);return{id:a,labId:t,form:n,loading:i||o}},{onCreate:function(e){return{type:be,payload:{endpoint:"/participants/",body:e,uiKey:"participantsCreate",schema:He,actionTypes:[ae,te,ne]}}},onUpdate:function(e,a){return{type:me,payload:{endpoint:"/participants/".concat(a,"/"),body:e,uiKey:"participantsUpdate",schema:He,actionTypes:[ce,le,de],meta:Object(Re.a)({},Object(Le.a)([{id:a,data:e}],He))}}}}),Ae()({onSubmit:function(e){var a=e.onUpdate,t=e.onCreate,n=e.id,i=e.labId;return function(e){void 0===n?t(Object(Re.a)({},e,{labId:i})):a(e,n)}}}),ba({name:"",email:"",company:"",awsRegion:"us-east-1",pod:"",status:""}))(za);Ga.displayName="enhanced(ParticipantForm)";var Qa=Ga,Ma=function(e){var a=e.isShown,t=e.close;return i.a.createElement(la.a,{isShown:a,onCloseComplete:t},i.a.createElement(xe.a,{padding:16},i.a.createElement(Ce.a,{size:600,marginBottom:16},"Participante"),i.a.createElement(Qa,null)))};var Xa=u()(Object(l.b)(function(e){return{isShown:m()(e,"ui.participants.isSideSheetOpen",!1)}},{close:function(){return{type:g,payload:{participants:{isSideSheetOpen:!1,editing:void 0}}}}}))(Ma);Xa.displayName="enhance(ParticipantSideSheet)";var Va=Xa,Ya=function(e){var a=e.isShown,t=e.close,n=e.onDelete;return i.a.createElement(ea.a,{isShown:a,title:"Atenci\xf3n",intent:"danger",onCancel:t,onConfirm:n,confirmLabel:"Si, quiero eliminar al Participante"},i.a.createElement(Ce.a,null,"\xbfEsta seguro que desea eliminar a este Participante?"))};var $a=u()(Object(l.b)(function(e){return{id:m()(e,"ui.participants.deleting",void 0),isShown:m()(e,"ui.participants.isDeleteDialogOpen",!1)}},{close:function(){return{type:g,payload:{participants:{isDeleteDialogOpen:!1,deleting:void 0}}}},onDelete:function(e){return{type:S,payload:[{type:g,payload:{participants:{isDeleteDialogOpen:!1,deleting:void 0}}},{type:fe,payload:{endpoint:"/participants/".concat(e,"/"),uiKey:"participantsDelete",meta:{id:e},actionTypes:[ie,oe,re]}}]}}}),Ae()({onDelete:function(e){var a=e.onDelete,t=e.id;return function(){return a(t)}}}))(Ya);$a.displayName="enhance(ParticipantDeleteDialog)";var Za=$a,et=function(e){var a=e.isShown,t=e.close,n=e.onPodUp;return i.a.createElement(ea.a,{isShown:a,title:"Levantar Pod",intent:"none",onConfirm:n,onCancel:t,confirmLabel:"Si, quiero levantar este pod"},i.a.createElement(Ce.a,null,"\xbfEsta seguro que desea levantar este Pod?"))};var at=u()(Object(l.b)(function(e){var a=m()(e,"ui.labs.editing",void 0),t=m()(e,"entities.labs.".concat(a,".data.runPlaybook"),void 0),n=m()(e,"ui.participants.editing",void 0);return{id:n,runPlaybook:t,isShown:m()(e,"ui.participants.isPodUpDialogOpen",!1),participant:m()(e,"entities.participants.".concat(n),void 0)}},{close:function(){return{type:g,payload:{participants:{isPodUpDialogOpen:!1}}}},onPodUp:function(e,a){var t=a.id,n=a.data,i=n.email,o=n.awsRegion,r=n.pod;return{type:S,payload:[{type:g,payload:{participants:{isPodUpDialogOpen:!1},jobs:{stdout:""}}},{type:be,payload:{endpoint:"/jobs/launch/".concat(e,"/"),uiKey:"podUpFor__".concat(t),body:{to_email:i,aws_region:o,lab_pod:+r},meta:{id:t,status:"UP"},schema:Ke,actionTypes:[D,x,k]}}]}}}),Ae()({onPodUp:function(e){var a=e.onPodUp,t=e.runPlaybook,n=e.participant;return function(){return a(t,n)}}}))(et);at.displayName="enhance(PodUpDialog)";var tt=at,nt=function(e){var a=e.isShown,t=e.close,n=e.onPodDown;return i.a.createElement(ea.a,{isShown:a,title:"Destruir Pod",intent:"danger",onConfirm:n,onCancel:t,confirmLabel:"Si, quiero destruir este pod"},i.a.createElement(Ce.a,null,"\xbfEsta seguro que desea destruir este Pod?"))};var it=u()(Object(l.b)(function(e){var a=m()(e,"ui.labs.editing",void 0),t=m()(e,"entities.labs.".concat(a,".data.endPlaybook"),void 0),n=m()(e,"ui.participants.editing",void 0);return{id:n,endPlaybook:t,isShown:m()(e,"ui.participants.isPodDownDialogOpen",!1),participant:m()(e,"entities.participants.".concat(n),void 0)}},{close:function(){return{type:g,payload:{participants:{isPodDownDialogOpen:!1}}}},onPodDown:function(e,a){var t=a.id,n=a.data,i=n.email,o=n.awsRegion,r=n.pod;return{type:S,payload:[{type:g,payload:{participants:{isPodDownDialogOpen:!1},jobs:{stdout:""}}},{type:be,payload:{endpoint:"/jobs/launch/".concat(e,"/"),uiKey:"podUpFor__".concat(t),body:{to_email:i,aws_region:o,lab_pod:+r},meta:{id:t,status:"DOWN"},schema:Ke,actionTypes:[D,x,k]}}]}}}),Ae()({onPodDown:function(e){var a=e.onPodDown,t=e.endPlaybook,n=e.participant;return function(){return a(t,n)}}}))(nt);it.displayName="enhance(PodDownDialog)";var ot=it,rt=function(e){var a=e.closeLabDeleteDialog,t=e.closeSideSheet,o=e.isSideSheetOpen,r=e.onParticipantsIndex,c=e.participantsLoading,l=e.lab,d=e.onDelete,u=e.onSubmit,p=e.openSideSheet,s=e.openParticipantSideSheet,y=e.showLabDeleteDialog;return void 0===l?i.a.createElement(xe.a,{width:"100%",display:"flex",justifyContent:"center"},i.a.createElement(ke.a,null)):i.a.createElement(n.Fragment,null,i.a.createElement(va,{isShown:o,close:t,onSubmit:u}),i.a.createElement(Va,null),i.a.createElement(na,{onDelete:d,close:a}),i.a.createElement(Za,null),i.a.createElement(tt,null),i.a.createElement(ot,null),i.a.createElement(xe.a,{elevation:1,width:"100%",display:"flex"},i.a.createElement(xe.a,{width:"100%",padding:16,flex:4,alignItems:"center"},i.a.createElement(ka,{label:"Nombre",readOnly:!0,value:l.data.name,marginBottom:8}),i.a.createElement(ka,{label:"Fecha de Inicio",type:"date",readOnly:!0,marginBottom:8,value:l.data.startDate}),i.a.createElement(ka,{label:"Run Playbook",type:"text",readOnly:!0,value:l.data.runPlaybook})),i.a.createElement(xe.a,{width:"100%",padding:16,flex:4},i.a.createElement(ka,{label:"URL de Diagrama",readOnly:!0,value:l.data.diagramURL,marginBottom:8}),i.a.createElement(ka,{label:"Fecha de Finalizaci\xf3n",type:"date",readOnly:!0,marginBottom:8,value:l.data.endDate}),i.a.createElement(ka,{label:"End Playbook",type:"text",readOnly:!0,value:l.data.endPlaybook})),i.a.createElement(xe.a,{padding:16,flex:1},i.a.createElement(Ze.a,null,i.a.createElement(Ze.a.Group,null,i.a.createElement(Ze.a.Item,{icon:"edit",onClick:p},"Editar")),i.a.createElement(Ze.a.Divider,null),i.a.createElement(Ze.a.Group,null,i.a.createElement(Ze.a.Item,{icon:"ban-circle",color:"danger",intent:"danger",onClick:y},"Eliminar"))))),i.a.createElement(xe.a,{display:"flex",marginTop:16,marginBottom:16},i.a.createElement(xe.a,{flex:3,alignItems:"center",display:"flex"},i.a.createElement(Ce.a,null,"Participantes")),i.a.createElement(xe.a,{flex:2,display:"flex",alignItems:"center",justifyContent:"flex-end"},i.a.createElement(Qe.a,{onClick:r,isLoading:c,marginRight:16},"Actualizar"),i.a.createElement(Qe.a,{intent:"success",iconBefore:"plus",onClick:s},"Nuevo Participante"))),i.a.createElement(xe.a,{display:"flex",justifyContent:"space-between",width:"100%"},i.a.createElement(Wa,null)))};var ct=u()(Ta()(function(e){return{id:e.match.params.id}}),Object(l.b)(function(e,a){var t=a.id;return{lab:m()(e,"entities.labs.".concat(t),void 0),labLoading:m()(e,"ui.loading.labsUpdate",!1),participantsLoading:m()(e,"ui.loading.participantsIndex",!1),isSideSheetOpen:m()(e,"ui.labs.isSideSheetOpen",!1),participantId:m()(e,"ui.participants.editing",void 0)}},{editUI:function(e){return{type:g,payload:{labs:{editing:e},title:"Laboratorios / ".concat(e),jobs:{editing:void 0},participants:{editing:void 0}}}},show:function(e){return{type:ye,payload:{endpoint:"/labs/".concat(e,"/"),uiKey:"labsShow",schema:Be,actionTypes:[X,V,Y]}}},update:function(e,a){return{type:me,payload:{endpoint:"/labs/".concat(a,"/"),body:e,uiKey:"labsUpdate",schema:Be,actionTypes:[G,Q,M],meta:Object(Re.a)({},Object(Le.a)([{id:a,data:e}],Be))}}},indexParticipants:function(e){return{type:ye,payload:{endpoint:"/participants/?filterBy=labId&filterValue=".concat(e,"&limit=100"),uiKey:"participantsIndex",schema:He,actionTypes:[$,Z,ee]}}},openSideSheet:function(){return{type:g,payload:{labs:{isSideSheetOpen:!0}}}},closeSideSheet:function(){return{type:g,payload:{labs:{isSideSheetOpen:!1}}}},openParticipantSideSheet:function(){return{type:g,payload:{participants:{isSideSheetOpen:!0}}}},showLabDeleteDialog:function(){return{type:g,payload:{labs:{isLabDeleteDialogOpen:!0}}}},closeLabDeleteDialog:function(){return{type:g,payload:{labs:{isLabDeleteDialogOpen:!1}}}},onDelete:function(e){return{type:S,payload:[{type:O,payload:"/"},{type:fe,payload:{endpoint:"/labs/".concat(e,"/"),uiKey:"labsDelete",meta:{id:e},actionTypes:[q,z,J]}}]}}}),Ae()({onSubmit:function(e){var a=e.update,t=e.id;return function(e){a(e,t)}},onDelete:function(e){var a=e.onDelete,t=e.id;return function(){return a(t)}},onParticipantsIndex:function(e){var a=e.indexParticipants,t=e.id;return function(){return a(t)}}}),s()({componentDidMount:function(){this.props.show(this.props.id),this.props.editUI(this.props.id),this.props.indexParticipants(this.props.id)}}))(rt);ct.displayName="enhance(Lab)";var lt=ct,dt=t(371),ut=t(372),pt=function(e){var a=e.lab;return i.a.createElement(xe.a,{display:"flex",width:"100%",flex:2,marginBottom:16},i.a.createElement(xe.a,{flex:"2"},i.a.createElement(Ce.a,null,a.data.name)),i.a.createElement(xe.a,{flex:"1",display:"flex",justifyContent:"flex-end"},i.a.createElement(Me.a,{fontStyle:"italic",marginRight:8},"Inicio: ".concat(a.data.startDate)),i.a.createElement(Me.a,{fontStyle:"italic"},"|"),i.a.createElement(Me.a,{fontStyle:"italic",marginLeft:8},"Fin: ".concat(a.data.endDate))))};var st=u()(Object(l.b)(function(e){var a=m()(e,"ui.labs.editing");return{lab:m()(e,"entities.labs.".concat(a),{})}},{}))(pt);st.displayName="enhance(ParticipantLabHeading)";var yt=st,bt=u()(Object(l.b)(function(e){return{lab:Ge(e)}},{}),Ta()(function(e){var a=e.value,t=e.lab,n=e.playbook;return void 0===n?{}:n===t.data.runPlaybook&&"successful"===a?{value:"up"}:n===t.data.endPlaybook&&"successful"===a?{value:"down"}:void 0}))(Ua);bt.displayName="enhance(StatusBadge)";var mt=bt,ft=function(e){var a=e.participant,t=e.buttonLabel,n=e.buttonIntent,o=e.onAction,r=e.lastPlaybook,c=e.loading;e.job;return i.a.createElement(xe.a,{flex:1,minWidth:300,paddingRight:8},i.a.createElement(xe.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},i.a.createElement(Ka.a,{marginBottom:24,label:"Estado",isRequired:!0,hint:"Estado del \xfaltimo comando del Pod"},i.a.createElement(mt,{playbook:r,value:m()(a,"data.status","")})),i.a.createElement(Qe.a,{appearance:"primary",intent:n,onClick:o,disabled:c,isLoading:c},t)),i.a.createElement(ma.a,{label:"Participante",type:"text",value:a.data.name,readOnly:!0}),i.a.createElement(ma.a,{label:"\xdaltimo Playbook",type:"text",value:r,readOnly:!0}),i.a.createElement(ma.a,{label:"AWS Region",type:"text",value:a.data.awsRegion,readOnly:!0}),i.a.createElement(ma.a,{label:"Pod",type:"number",min:1,max:99,readOnly:!0,value:a.data.pod}),i.a.createElement(ma.a,{label:"\xdaltimo Playbook",type:"text",value:a.data.awsRegion,readOnly:!0}),i.a.createElement(ma.a,{label:"\xdaltima Actualizaci\xf3n",type:"text",value:a.updated,readOnly:!0}))};var gt=u()(Object(l.b)(function(e){var a=Fa(e),t=Ge(e),n=function(e){var a=m()(e,"ui.jobs.editing");if(void 0!==a)return m()(e,"entities.jobs.".concat(a))}(e),i="pending"===a.data.status||"running"===a.data.status,o="Iniciar",r="success";return t.data.runPlaybook===a.data.lastPlaybook&&(o="Destruir",r="danger"),"failed"===n.data.status&&(o="Destruir",r="danger"),!0===i&&(o="..."),{lastPlaybook:m()(a,"data.lastPlaybook",""),participant:a,buttonLabel:o,buttonIntent:r,loading:i,job:n}},{openPodUpDialog:function(){return{type:g,payload:{participants:{isPodUpDialogOpen:!0}}}},openPodDownDialog:function(){return{type:g,payload:{participants:{isPodDownDialogOpen:!0}}}}}),Ae()({onAction:function(e){var a=e.buttonIntent,t=e.openPodDownDialog,n=e.openPodUpDialog;return function(){return"danger"===a?t():n()}}}))(ft);gt.displayName="enhance(ParticipantInformation)";var Et=gt,vt=(t(325),t(370)),ht=function(e){var a=e.body,t=e.followStdout,o=e.onStdoutTrack;return i.a.createElement(n.Fragment,null,i.a.createElement(xe.a,{display:"flex",flexDirection:"column",flex:3,maxWidth:700,minWidth:700,padding:0,marginTop:-40},i.a.createElement(xe.a,{display:"flex",alignItems:"center",paddingTop:16,paddingBottom:16,justifyContent:"flex-end"},i.a.createElement(xe.a,{marginRight:16,fontSize:12},"Seguir ",i.a.createElement("code",null,"stdout")),i.a.createElement(xe.a,null,i.a.createElement(vt.a,{label:"Seguir salida",checked:t,onChange:o}))),i.a.createElement(xe.a,{className:"JobStdout",height:"calc(100vh - 170px)",overflowY:"scroll",border:"default",paddingTop:0,paddingBottom:0,paddingRight:8,paddingLeft:8},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}}))))};var St=u()(Object(l.b)(function(e){return{id:m()(e,"ui.jobs.editing"),body:m()(e,"ui.jobs.stdout",""),followStdout:m()(e,"ui.jobs.stdoutTrack",!1)}},{onStdoutTrack:function(e){return{type:L,payload:e.target.checked}},getStdout:function(e){return{type:ye,payload:{endpoint:"/jobs/stdout/".concat(e,"/"),uiKey:"jobsStdout",actionTypes:[I,U,R]}}}}),s()({componentWillMount:function(){this.props.getStdout(this.props.id)}}))(ht);St.displayName="enhance(JobStdout)";var Ot=St,jt=function(e){var a=e.diagramURL;return i.a.createElement(xe.a,{display:"flex",flexDirection:"column",flex:3,maxWidth:700,minWidth:700,padding:0},i.a.createElement(xe.a,{display:"flex",paddingTop:16,paddingBottom:16,alignItems:"center",justifyContent:"center",flexDirection:"column",height:"calc(100vh - 170px)"},i.a.createElement("img",{src:a,alt:"diagram"})))};var Tt="http://www.piniswiss.com/wp-content/uploads/2013/05/image-not-found-4a963b95bf081c3ea02923dceaeb3f8085e1a654fc54840aac61a57a60903fef-300x199.png",Dt=u()(Object(l.b)(function(e){var a=Ge(e),t=m()(a,"data.diagramURL",Tt);return""===t&&(t=Tt),{diagramURL:t}},{}))(jt);Dt.displayName="enhance(LabDiagram)";var xt=Dt,kt=function(e){var a=e.isReady,t=e.activeTab,o=e.onSelectTab;return!1===a?i.a.createElement(xe.a,{width:"100%",display:"flex",justifyContent:"center"},i.a.createElement(ke.a,null)):i.a.createElement(n.Fragment,null,i.a.createElement(tt,null),i.a.createElement(ot,null),i.a.createElement(yt,null),i.a.createElement(xe.a,{width:"100%",display:"flex"},i.a.createElement(Et,null),i.a.createElement(xe.a,{display:"flex",flexDirection:"column",paddingLeft:8},i.a.createElement(dt.a,null,Ct.map(function(e,a){return i.a.createElement(ut.a,{marginLeft:0===a?0:4,key:e,id:e,onSelect:function(){return o(e)},isSelected:t===e},e)})),"Stdout"===t&&i.a.createElement(Ot,null),"Diagrama"===t&&i.a.createElement(xt,null))))},Ct=["Stdout","Diagrama"];var Pt=u()(Object(l.b)(function(e,a){var t,n=m()(a,"match.params.id"),i=m()(e,"entities.participants.".concat(n)),o=m()(i,"data.labId"),r=m()(i,"data.jobId"),c=m()(e,"entities.labs.".concat(o)),l=void 0!==i&&void 0!==c;return void 0!==r&&(t=m()(e,"entities.jobs.".concat(r)),l=l&&void 0!==t),{id:n,isReady:l,labId:o,jobId:r,activeTab:m()(e,"ui.participants.activeTab","Stdout")}},{onSelectTab:function(e){return{type:g,payload:{participants:{activeTab:e}}}},editUi:function(e){var a=e.id,t=e.jobId,n=e.labId;return{type:g,payload:{jobs:{stdout:"",editing:t,stdoutTrack:!0},labs:{editing:n},participants:{editing:a},title:"Participantes / ".concat(a)}}},getParticipant:function(e){var a=e.id;return{type:ye,payload:{endpoint:"/participants/".concat(a,"/"),uiKey:"participantsShow",schema:He,actionTypes:[ue,pe,se],meta:{deep:!0}}}}}),s()({componentWillMount:function(){this.props.editUi(this.props),this.props.getParticipant(this.props)}}))(kt);Pt.displayName="enhance(Participant)";var wt=Pt,It=function(){return i.a.createElement(xe.a,{display:"flex",padding:16,width:"100%",flexDirection:"column"},i.a.createElement(Ie.a,null,i.a.createElement(Ue.a,{path:"/labs/:id/",component:lt}),i.a.createElement(Ue.a,{path:"/participants/:id/",component:wt}),i.a.createElement(Ue.a,{exact:!0,path:"/",component:Oa})))};var Ut=function(e){var a=e.handleTextChange,t=e.handleSubmit,n=e.form,o=e.error,r=e.loading;return i.a.createElement(xe.a,{padding:16,border:!0,width:"25%",minWidth:"300px",background:"tint1"},i.a.createElement(Ce.a,{size:600},"Bienvenido a Lab Helpers"),i.a.createElement(Ce.a,{size:300},"Iniciar sesi\xf3n"),i.a.createElement("hr",null),i.a.createElement("form",{onSubmit:t},i.a.createElement(ma.a,{label:"Email",required:!0,isInvalid:void 0!==o,type:"text",value:n.email,onChange:a("email")}),i.a.createElement(ma.a,{label:"Password",type:"password",required:!0,isInvalid:void 0!==o,hint:void 0!==o&&"Credenciales invalidas",value:n.password,onChange:a("password")}),i.a.createElement(Qe.a,{type:"submit",textAlign:"center",width:"100%",appearance:"primary",display:"flex",alignItems:"center",justifyContent:"center",disabled:r},!0===r?i.a.createElement(ke.a,{size:16}):"Aceptar")))};var Rt=u()(ba({email:"",password:""}))(Ut);Rt.displayName="enhanced(Login)";var Lt=Rt,_t=function(e){function a(){return Object(Se.a)(this,a),Object(je.a)(this,Object(Te.a)(a).apply(this,arguments))}return Object(De.a)(a,e),Object(Oe.a)(a,[{key:"render",value:function(){var e=this.props,a=e.isAuthenticated,t=e.isReady,n=e.onLogin,o=e.loading,r=e.error;return!1===a?i.a.createElement(xe.a,{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"tint2"},!1===t?i.a.createElement(ke.a,null):i.a.createElement(Lt,{onSubmit:n,loading:o,error:r})):i.a.createElement(xe.a,null,i.a.createElement(we,null),i.a.createElement(It,null))}}]),a}(i.a.Component),At=u()(y.a,Object(l.b)(function(e){return{loading:m()(e,"ui.loading.login",!1),error:m()(e,"ui.errors.login",void 0),isAuthenticated:m()(e,"ui.isAuthenticated",!1),isReady:m()(e,"ui.isReady",!1)}},{onRun:function(){return{type:ge}},onLogin:function(e){return{type:ve,payload:e}},onLogout:function(e){return{type:he}}}),s()({componentWillMount:function(){this.props.onRun()}}))(_t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Nt=t(54),Bt=t(381),Ft=t(71),Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;if(t===v){var i=n.key,o=n.value;return Object(Ft.a)(e,{loading:Object(da.a)({},i,o)})}if(t===E){var r=n.key,c=n.value;return Object(Ft.a)(e,{errors:Object(da.a)({},r,c)})}return t===g?Object(Ft.a)(e,n):e};var Wt=t(166),Kt=t.n(Wt),qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).payload;if(a&&void 0!==a.entities){var t="difference"===a.arrayMerge?Kt.a:ze.a;e=Object(Ft.a)(e,a.entities,{arrayMerge:t})}return e};var zt=Object(Nt.c)({ui:Ht,entities:qt,labs:Je,participants:Ba}),Jt=t(387),Gt=t(82),Qt=t(389),Mt=t(350),Xt=t(157),Vt=t(343),Yt=t(374),$t=t(375),Zt="https://ansibletower.conatest.click/helpers/api/v1",en="https://ansibletower.conatest.click/helpers/api/auth",an=t(81),tn=t.n(an),nn=t(120),on=t(167),rn=t.n(on),cn=new(function(){function e(){var a=this;Object(Se.a)(this,e),this.baseURL="https://ansibletower.conatest.click/helpers/api/auth",this.loading=!1,this.error=void 0,this.getUser=function(){try{return JSON.parse(localStorage.getItem("user"))}catch(e){return}},this.beginCall=function(){a.error=void 0,a.loading=!0},this.logout=function(){a.user=void 0,a.accessToken=void 0,a.idToken=void 0,a.refreshToken=void 0,a.error=void 0,a.loading=!1,document.location.reload()},this.fetchRefreshTokens=function(e){return fetch(a.baseURL+"/refresh/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a.refreshToken})})},this.refreshTokens=Object(nn.a)(tn.a.mark(function e(){var t,n;return tn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.beginCall(),e.next=3,a.fetchRefreshTokens();case 3:if(!1!==(t=e.sent).ok){e.next=6;break}return e.abrupt("return",a.logout());case 6:return a.loading=!1,e.next=9,t.json();case 9:n=e.sent,a.accessToken=n.accessToken,a.idToken=n.idToken,a.refreshToken=n.refreshToken;case 13:case"end":return e.stop()}},e,this)})),this.fetchLogin=function(e){return fetch(a.baseURL+"/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},this.login=function(){var e=Object(nn.a)(tn.a.mark(function e(t){var n,i,o;return tn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.beginCall(),e.next=3,a.fetchLogin(t);case 3:if(n=e.sent,a.loading=!1,!1!==n.ok){e.next=11;break}return e.next=8,n.json();case 8:return i=e.sent,a.error=i.error,e.abrupt("return");case 11:return e.next=13,n.json();case 13:o=e.sent,a.user=o.user,a.accessToken=o.accessToken,a.idToken=o.idToken,a.refreshToken=o.refreshToken;case 18:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()}return Object(Oe.a)(e,[{key:"accessToken",get:function(){return localStorage.getItem("accessToken")},set:function(e){localStorage.setItem("accessToken",e)}},{key:"idToken",get:function(){return localStorage.getItem("idToken")},set:function(e){localStorage.setItem("idToken",e)}},{key:"refreshToken",get:function(){return localStorage.getItem("refreshToken")},set:function(e){localStorage.setItem("refreshToken",e)}},{key:"user",get:function(){return this.getUser()},set:function(e){localStorage.setItem("user",JSON.stringify(e))}},{key:"isAuthenticated",get:function(){return!rn()(this.getUser())}}]),e}()),ln=Object(Jt.a)(function(e){return e.ofType(ye).pipe(Object(Vt.a)(function(e){var a=e.payload,t=a.actionTypes;t=void 0===t?[]:t;var n=Object(Gt.a)(t,3),i=n[0],o=n[1],r=n[2],c=a.endpoint,l=a.refresh,d=a.uiKey,u=a.schema,p=a.meta;return Object(Mt.a)(Object(Xt.a)({type:i,payload:p}),Object(Xt.a)({type:v,payload:{key:d,value:!0}}),Qt.a.get("".concat(Zt).concat(c),un()).pipe(Object(Yt.a)(function(e){var a=e.response,t=a&&Array.isArray(a.items)?a.items:a;return Object(Mt.a)(Object(Xt.a)({type:o,payload:Object(Re.a)({},void 0!==u?Object(Le.a)(Array.isArray(t)?t:[t],u):{result:t},{meta:p})}),Object(Xt.a)({type:v,payload:{key:d,value:!1}}))}),Object($t.a)(function(e){return 401===e.status&&void 0===l?(console.log("Unauthorized"),dn(a)):Object(Mt.a)(Object(Xt.a)({type:E,payload:{key:d,value:e}}),Object(Xt.a)({type:r,payload:e}),Object(Xt.a)({type:v,payload:{key:d,value:!1}}))})))}))},function(e){return e.ofType(be).pipe(Object(Vt.a)(function(e){var a=e.payload,t=a.actionTypes;t=void 0===t?[]:t;var n=Object(Gt.a)(t,3),i=n[0],o=n[1],r=n[2],c=a.endpoint,l=a.refresh,d=a.uiKey,u=a.body,p=a.schema,s=a.meta;return Object(Mt.a)(Object(Xt.a)({type:i,payload:s}),Object(Xt.a)({type:v,payload:{key:d,value:!0}}),Qt.a.post("".concat(Zt).concat(c),u,un()).pipe(Object(Yt.a)(function(e){var a=e.response;return Object(Mt.a)(Object(Xt.a)({type:o,payload:Object(Re.a)({},Object(Le.a)([a],p),{meta:s})}),Object(Xt.a)({type:v,payload:{key:d,value:!1}}))}),Object($t.a)(function(e){return 401===e.status&&void 0===l?(console.log("Unauthorized"),dn(a)):Object(Mt.a)(Object(Xt.a)({type:E,payload:{key:d,value:e}}),Object(Xt.a)({type:r,payload:{response:e,body:u,meta:s}}),Object(Xt.a)({type:v,payload:{key:d,value:!1}}))})))}))},function(e){return e.ofType(fe).pipe(Object(Vt.a)(function(e){var a=e.type,t=e.payload,n=t.actionTypes;n=void 0===n?[]:n;var i=Object(Gt.a)(n,3),o=i[0],r=i[1],c=i[2],l=t.endpoint,d=t.refresh,u=t.uiKey,p=t.meta;return Object(Mt.a)(Object(Xt.a)({type:o,payload:p}),Object(Xt.a)({type:v,payload:{key:u,value:!0}}),Qt.a.delete("".concat(Zt).concat(l),un()).pipe(Object(Yt.a)(function(){return Object(Mt.a)(Object(Xt.a)({type:r}),Object(Xt.a)({type:v,payload:{key:u,value:!1}}))}),Object($t.a)(function(e){return 401===e.status&&void 0===d?(console.log("Unauthorized"),dn({type:a,payload:t})):Object(Mt.a)(Object(Xt.a)({type:E,payload:{key:u,value:e}}),Object(Xt.a)({type:c,payload:e}),Object(Xt.a)({type:v,payload:{key:u,value:!1}}))})))}))},function(e){return e.ofType(me).pipe(Object(Vt.a)(function(e){var a=e.payload,t=a.actionTypes;t=void 0===t?[]:t;var n=Object(Gt.a)(t,3),i=n[0],o=n[1],r=n[2],c=a.endpoint,l=a.refresh,d=a.uiKey,u=a.body,p=a.schema,s=a.meta;return Object(Mt.a)(Object(Xt.a)({type:i,payload:s}),Object(Xt.a)({type:v,payload:{key:d,value:!0}}),Qt.a.put("".concat(Zt).concat(c),u,un()).pipe(Object(Yt.a)(function(e){var a=e.response;return Object(Mt.a)(Object(Xt.a)({type:o,payload:Object(Re.a)({},Object(Le.a)([a],p),{meta:s})}),Object(Xt.a)({type:v,payload:{key:d,value:!1}}))}),Object($t.a)(function(e){return 401===e.status&&void 0===l?(console.log("Unauthorized"),dn(a)):Object(Mt.a)(Object(Xt.a)({type:E,payload:{key:d,value:e}}),Object(Xt.a)({type:r,payload:e}),Object(Xt.a)({type:v,payload:{key:d,value:!1}}))})))}))});function dn(e){var a=e.type,t=e.payload;return Object(Xt.a)({type:Ee,payload:{success:{type:a,payload:Object(Re.a)({},t,{refresh:!0})},failure:{type:he}}})}function un(){return{"Content-Type":"application/json",Authorization:"Bearer ".concat(cn.accessToken)}}var pn=t(92),sn=t(382),yn=Object(Jt.a)(function(e){return e.ofType(Ee).pipe(Object(Yt.a)(function(e){var a=e.payload,t=a.success,n=a.failure;return Qt.a.post("".concat(en,"/refresh/"),{token:cn.refreshToken},{"Content-Type":"application/json"}).pipe(Object(Yt.a)(function(e){var a=e.response;return console.log("Tokens refreshed"),cn.accessToken=a.accessToken,cn.idToken=a.idToken,cn.refreshToken=a.refreshToken,Object(Xt.a)(t)}),Object($t.a)(function(){return console.log("Tokens refresh error"),Object(Xt.a)(n)}))}))},function(e){return e.ofType(ve).pipe(Object(Yt.a)(function(e){var a=e.payload;return Object(Mt.a)(Object(Xt.a)({type:v,payload:{key:"login",value:!0}}),Object(Xt.a)({type:E,payload:{key:"login",value:void 0}}),Qt.a.post("".concat(en,"/login/"),a,{"Content-Type":"application/json"}).pipe(Object(Yt.a)(function(e){var a=e.response;console.log("Welcome!"),cn.user=a.user,cn.accessToken=a.accessToken,cn.idToken=a.idToken,cn.refreshToken=a.refreshToken;var t="Bienvenido";return void 0!==a.user.name&&(t+=" ".concat(a.user.name)),sn.a.success(t),Object(Mt.a)(Object(Xt.a)({type:v,payload:{key:"login",value:!1}}),Object(Xt.a)({type:g,payload:{isAuthenticated:!0}}))}),Object($t.a)(function(e){var a="Credenciales invalidas";return sn.a.danger(a),console.log(e),Object(Mt.a)(Object(Xt.a)({type:v,payload:{key:"login",value:!1}}),Object(Xt.a)({type:E,payload:{key:"login",value:a}}))})))}))},function(e){return e.ofType(he).pipe(Object(pn.a)(function(){return cn.logout(),{type:g,payload:{isReady:!1}}}))},function(e){return e.ofType(ge).pipe(Object(Yt.a)(function(){return Object(Xt.a)({type:Ee,payload:{success:{type:g,payload:{isReady:!0,isAuthenticated:!0}},failure:{type:g,payload:{isReady:!0,isAuthenticated:!1}}}})}))});var bn=Object(Jt.a)(function(e){return e.ofType(W).pipe(Object(pn.a)(function(){return sn.a.success("Laboratorio creado"),{type:g,payload:{labs:{isSideSheetOpen:!1}}}}))},function(e){return e.ofType(z).pipe(Object(pn.a)(function(){return sn.a.success("Laboratorio eliminado"),{type:g,payload:{labs:{isLabDeleteDialogOpen:!1}}}}))},function(e){return e.ofType(Q).pipe(Object(pn.a)(function(){return sn.a.success("Laboratorio actualizado"),{type:g,payload:{labs:{isSideSheetOpen:!1}}}}))},function(e){return e.ofType(V).pipe(Object(pn.a)(function(e){var a=e.payload,t=m()(a,"result[0]"),n=m()(a,"entities.labs.".concat(t)),i=m()(a,"meta.editUI",!0);return!1===i?{type:h}:{type:g,payload:{title:"Laboratorios / ".concat(n.data.name),labs:{editing:n.id}}}}))});var mn=t(349),fn=t(388),gn=t(93),En=t(376),vn=t(377),hn=t(378),Sn=1e4,On=Object(Jt.a)(function(e){return e.ofType(k).pipe(Object(pn.a)(function(e){var a=e.payload,t=m()(a,"meta.id",void 0),n=m()(a,"response.status",400),i=404===n?"NOT FOUND":"FAILURE";return console.log(t),{type:j,payload:Object(Re.a)({},Object(Le.a)([{id:t,data:{status:i}}],He))}}))},function(e){return e.ofType(Z).pipe(Object(Vt.a)(function(e){var a=e.payload,t=a.result.map(function(e){return a.entities.participants[e]});return Object(gn.a)(t.filter(function(e){return void 0!==e.data.jobId}).map(function(e){return{type:ye,payload:{endpoint:"/jobs/".concat(e.data.jobId,"/"),uiKey:"jobsShow__".concat(e.data.jobId),schema:Ke,meta:{participantId:e.id},actionTypes:[C,P,w]}}}))}))},function(e,a){return e.ofType(P).pipe(Object(pn.a)(function(e){var t=e.payload,n=m()(t,"result[0]",void 0),i=m()(t,"entities.jobs.".concat(n),{}),o=m()(i,"data.status",{}),r=m()(i,"data.name",{}),c=m()(t,"meta.participantId",void 0),l=m()(a.value,"ui.jobs.stdoutTrack",!1);if(void 0===c)return{type:h};var d=[{type:j,payload:Object(Re.a)({},Object(Le.a)([{id:c,data:{status:o,lastPlaybook:r}}],He))}];return!0===l&&"running"!==o&&"pending"!==o&&d.push({type:A,payload:o}),{type:S,payload:d}}))},function(e){return e.ofType(x).pipe(Object(pn.a)(function(e){var a=e.payload,t=m()(a,"result[0]");return{type:g,payload:{jobs:{editing:t}}}}))},function(e){return e.ofType(U).pipe(Object(pn.a)(function(e){var a=e.payload,t=m()(a,"result",void 0);return{type:g,payload:{jobs:{stdout:t}}}}))},function(e){return e.ofType(L).pipe(Object(pn.a)(function(e){var a=e.payload,t=[{type:g,payload:{jobs:{stdoutTrack:a}}}];return t.push({type:_}),{type:S,payload:t}}))},function(e,a){return e.ofType(U,le).pipe(Object(pn.a)(function(){var e,t,n=Fa(a.value),i=(e=a.value,t=n.data.jobId,m()(e,"entities.jobs.".concat(t))),o=m()(a.value,"ui.jobs.stdoutTrack",!1),r=m()(a.value,"ui.jobs.stdoutSubscribed",!1),c=i.data.status;return!0!==o||!1!==r||"running"!==c&&"pending"!==c?{type:h}:{type:_}}))},function(e,a){return e.ofType(_).pipe(Object(Yt.a)(function(){var t=Fa(a.value);return void 0===t.data.jobId?{type:h}:Object(fn.a)(Sn).pipe(Object(vn.a)(0),Object(En.a)({type:S,payload:[{type:g,payload:{jobs:{stdoutSubscribed:!0}}},{type:ye,payload:{endpoint:"/jobs/stdout/".concat(t.data.jobId,"/"),uiKey:"jobsStdout",actionTypes:[I,U,R]}},{type:ye,payload:{endpoint:"/jobs/".concat(t.data.jobId,"/"),uiKey:"jobsShow__".concat(t.data.jobId),schema:Ke,meta:{participantId:t.id},actionTypes:[C,P,w]}}]}),Object(hn.a)(e.pipe(Object(mn.a)(A))))}))},function(e){return e.ofType(A).pipe(Object(En.a)({type:g,payload:{jobs:{stdoutSubscribed:!1}}}))},function(e){return e.ofType(T).pipe(Object(En.a)({type:S,payload:[{type:A,payload:"Route Update"},{type:g,payload:{jobs:{stdoutTrack:!1}}}]}))});var jn=Object(Jt.a)(function(e){return e.ofType(te).pipe(Object(pn.a)(function(e){e.payload;return sn.a.success("Participante creado"),{type:g,payload:{participants:{isSideSheetOpen:!1}}}}))},function(e){return e.ofType(oe).pipe(Object(pn.a)(function(){return sn.a.success("Participante eliminado"),{type:h}}))},function(e){return e.ofType(le).pipe(Object(pn.a)(function(){return sn.a.success("Participante actualizado"),{type:g,payload:{participants:{isSideSheetOpen:!1}}}}))},function(e){return e.ofType(pe).pipe(Object(Yt.a)(function(e){var a=e.payload,t=m()(a,"result[0]"),n=m()(a,"entities.participants.".concat(t)),i=m()(a,"meta.deep",!1),o=[{type:g,payload:{title:"Participantes / ".concat(n.data.name),participants:{editing:t}}}];if(!0===i){var r=m()(n,"data.labId"),c=m()(n,"data.jobId");void 0!==r&&(o.push({type:g,payload:{labs:{editing:r}}}),o.push({type:ye,payload:{endpoint:"/labs/".concat(r,"/"),uiKey:"labsShow",schema:Be,actionTypes:[X,V,Y],meta:{editUI:!1}}})),void 0!==c&&(o.push({type:g,payload:{jobs:{editing:c}}}),o.push({type:ye,payload:{endpoint:"/jobs/".concat(c,"/"),uiKey:"jobsShow",schema:Ke,actionTypes:[C,P,w],meta:{participantId:t}}}))}return Object(gn.a)(o)}))},function(e){return e.ofType(x).pipe(Object(pn.a)(function(e){var a=e.payload,t=m()(a,"meta.id",void 0),n=m()(a,"result[0]"),i=m()(a,"entities.jobs.".concat(n,".data.status")),o=m()(a,"entities.jobs.".concat(n,".data.name"));return{type:me,payload:{endpoint:"/participants/".concat(t,"/"),body:{jobId:n,status:i,lastPlaybook:o},uiKey:"participantsUpdate",schema:He,actionTypes:[ce,le,de],meta:Object(Re.a)({},Object(Le.a)([{id:t,data:{status:i,jobId:n,lastPlaybook:o}}],He))}}}))});var Tn=t(168),Dn=t.n(Tn),xn=t(30),kn=Dn()(),Cn=kn,Pn=xn.a.create(function(e){var a;try{a=kn.listen(function(a,t){e.next({location:a,action:t})})}catch(t){e.error(t)}return function(){ya()(a)&&a(),e.complete()}}),wn=Object(Jt.a)(function(e){return e.ofType(S).pipe(Object(Yt.a)(function(e){var a=e.payload;return Object(gn.a)(a)}))},function(e){return e.ofType(O).pipe(Object(pn.a)(function(e){var a=e.payload;return Cn.push(a),{type:h}}))},function(e){return e.ofType(E).pipe(Object(pn.a)(function(e){var a=e.payload,t=a.message||"Error insesperado";return sn.a.danger(t),{type:h}}))});var In,Un=Object(Jt.a)(ln,yn,bn,jn,wn,On),Rn=Object(Bt.a)();window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Nt.d;In=Object(Nt.e)(zt,Object(Nt.a)(Rn)),Rn.run(Un);var Ln=In,_n=(Pn.subscribe({next:function(e){Ln.dispatch({type:T,payload:e})}}),document.getElementById("root"));r.a.render(i.a.createElement(l.a,{store:Ln},i.a.createElement(c.a,{history:Cn},i.a.createElement(At,null))),_n),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[177,2,1]]]);
//# sourceMappingURL=main.efa1cbb2.chunk.js.map